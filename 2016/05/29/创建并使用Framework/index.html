<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>创建并使用Framework | 天晷</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="apple官方指导文档地址：https://developer.apple.com/library/mac/documentation/MacOSX/Conceptual/BPFrameworks/Frameworks.html
 记录Github上的例子，整个流程如下： github地址：https://github.com/RadiusNetworks/swift-framework-exam">
<meta property="og:type" content="article">
<meta property="og:title" content="创建并使用Framework">
<meta property="og:url" content="http://yoursite.com/2016/05/29/创建并使用Framework/index.html">
<meta property="og:site_name" content="天晷">
<meta property="og:description" content="apple官方指导文档地址：https://developer.apple.com/library/mac/documentation/MacOSX/Conceptual/BPFrameworks/Frameworks.html
 记录Github上的例子，整个流程如下： github地址：https://github.com/RadiusNetworks/swift-framework-exam">
<meta property="og:updated_time" content="2016-05-29T10:33:21.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="创建并使用Framework">
<meta name="twitter:description" content="apple官方指导文档地址：https://developer.apple.com/library/mac/documentation/MacOSX/Conceptual/BPFrameworks/Frameworks.html
 记录Github上的例子，整个流程如下： github地址：https://github.com/RadiusNetworks/swift-framework-exam">
  
    <link rel="alternative" href="/atom.xml" title="天晷" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  <link rel="stylesheet" href="/css/style.css">
  

</head>
<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">天晷</a>
      </h1>
      
        <h2 id="subtitle-wrap">
          <a href="/" id="subtitle">脑容量有限，清理出来装灵感吧！</a>
        </h2>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" results="0" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://yoursite.com"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main"><article id="post-创建并使用Framework" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2016/05/29/创建并使用Framework/" class="article-date">
  <time datetime="2016-05-29T09:57:54.000Z" itemprop="datePublished">2016-05-29</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      创建并使用Framework
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>apple官方指导文档地址：<a href="https://developer.apple.com/library/mac/documentation/MacOSX/Conceptual/BPFrameworks/Frameworks.html" target="_blank" rel="external">https://developer.apple.com/library/mac/documentation/MacOSX/Conceptual/BPFrameworks/Frameworks.html</a></p>
<p> 记录Github上的例子，整个流程如下：<br> github地址：<a href="https://github.com/RadiusNetworks/swift-framework-example" target="_blank" rel="external">https://github.com/RadiusNetworks/swift-framework-example</a></p>
<p>##SimpleFramework</p>
<p>###Overview</p>
<p>The purpose of this project is to demonstrate (and remember) how to create a Swift framework for iOS that in turn uses Objective-C code. Then, this framework is used by two different iOS apps – one Swift and one Objective-C.</p>
<p>###Creating the Framework</p>
<p>1.Create a new Xcode project.<br>2.Create a new Cocoa Touch framework target using Swift.<br>3.Create a new Objective C Cocoa Touch class named SFClass as a subclass of NSObject.<br>4.Select SFClass.h and make sure its Target Membership is SimpleFramework and “Public”. Turns out this is critical.<br>5.Add the following code to SFClass.h:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">-(void) printMessage:(NSString *) message;</span><br></pre></td></tr></table></figure>
<p>6.Add the following code to SFClass.m:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">-(void) printMessage:(NSString *) message &#123;</span><br><span class="line">NSLog(@&quot;The message is %@&quot;, message);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>7.Create a new Swift class named SimpleClass as a subclass of NSObject and add the following code to SimpleClass.swift. Note the usage of public in front of the class, the initializer, and the printMessage method. This makes the class and methods available to those who consume the framework.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">public class SimpleClass: NSObject &#123;</span><br><span class="line"></span><br><span class="line">var message: String</span><br><span class="line">var object: SFClass = SFClass()</span><br><span class="line"></span><br><span class="line">public init(_ newMessage: String) &#123;</span><br><span class="line">  self.message = newMessage</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">public func printMessage() &#123;</span><br><span class="line">  object.printMessage(self.message)</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>8.When you created the framework target, Xcode automatically created SimpleFramework.h for you. Add the following to that file:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">#import &quot;SFClass.h&quot;</span><br></pre></td></tr></table></figure>
<p>###Consuming the Framework from a Swift app</p>
<p>1.Create a new single-view iOS app target in the project and name it SwiftApp and use Swift.<br>2.Select the new target and go to the General settings. Under Embedded Binaries, click the + and add SimpleFramework.framework.<br>In the ViewController.swift file that was created, add the following line at the top:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">import SimpleFramework</span><br></pre></td></tr></table></figure>
<p>and the following method should replace the existing viewDidLoad:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">override func viewDidLoad() &#123;</span><br><span class="line">  super.viewDidLoad()</span><br><span class="line">  let sc = SimpleClass(&quot;Hello Swift framework from Swift!!!&quot;)</span><br><span class="line">  sc.printMessage()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>###Consuming the Framework from an Objective-C app</p>
<p>1.Create a new single-view iOS app target in the project and name it ObjCApp and use Objective C.<br>2.Select the new target and go to the General settings. Under Embedded Binaries, click the + and add SimpleFramework.framework.<br>3.Under the Build Settings for the target, find the setting for Embedded Content Contains Swift Code and set it to Yes.<br>4.In the ViewController.m file that was created, add the following line at the top:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">@import SimpleFramework;</span><br></pre></td></tr></table></figure>
<p>and the following method should replace the existing viewDidLoad:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">- (void)viewDidLoad &#123;</span><br><span class="line">[super viewDidLoad];</span><br><span class="line">SimpleClass *sc = [[SimpleClass alloc] init:@&quot;Hello Swift framework from Objective C!!!&quot;];</span><br><span class="line">[sc printMessage];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2016/05/29/创建并使用Framework/" data-id="ciosg7yfp001g24flufxmkuw2" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
    
<nav id="article-nav">
  
  
    <a href="/2016/04/23/AutoLayout-PG/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">AutoLayout_PG</div>
    </a>
  
</nav>

  
</article>

</section>
        
          <aside id="sidebar">
  
    
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/OS/">OS</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Other/">Other</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Pattern/">Pattern</a><span class="tag-list-count">4</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Swift/">Swift</a><span class="tag-list-count">6</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/iOS/">iOS</a><span class="tag-list-count">11</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/后端/">后端</a><span class="tag-list-count">6</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/工具/">工具</a><span class="tag-list-count">3</span></li></ul>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/OS/" style="font-size: 10px;">OS</a> <a href="/tags/Other/" style="font-size: 10px;">Other</a> <a href="/tags/Pattern/" style="font-size: 15px;">Pattern</a> <a href="/tags/Swift/" style="font-size: 17.5px;">Swift</a> <a href="/tags/iOS/" style="font-size: 20px;">iOS</a> <a href="/tags/后端/" style="font-size: 17.5px;">后端</a> <a href="/tags/工具/" style="font-size: 12.5px;">工具</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/05/">May 2016</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/04/">April 2016</a><span class="archive-list-count">17</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/03/">March 2016</a><span class="archive-list-count">12</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/08/">August 2015</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/05/">May 2015</a><span class="archive-list-count">3</span></li></ul>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recents</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2016/05/29/创建并使用Framework/">创建并使用Framework</a>
          </li>
        
          <li>
            <a href="/2016/04/23/AutoLayout-PG/">AutoLayout_PG</a>
          </li>
        
          <li>
            <a href="/2016/04/22/ViewController3-PG/">ViewController3-PG</a>
          </li>
        
          <li>
            <a href="/2016/04/21/ViewController2-PG/">ViewController2-PG</a>
          </li>
        
          <li>
            <a href="/2016/04/20/ViewController-PG/">ViewController-PG</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2016 天晷<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>

  </div>
</body>
</html>